<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Money exchange simulation</title>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/regression/1.4.0/regression.min.js"></script>
    
</head>
<link rel="stylesheet" href="styles.css">

<body>
    <div class="mainContainer">
        <div class = 'dataContainer'> 
            
            <div class = 'inputContainer'>
                <h1>Money simulation ðŸ’¸</h1>                
            </div>
            
            <div class = "inputContainer">
                <button id = 'startSimulation'>Start</button>
                <button id = 'pauseSimulation'>Pause</button>
                <button id = 'resetSimulation'>Reset</button>
            </div>

            <div class = 'inputContainer'>
                <button id = 'sortButton'>Sort</button>
                <button id = 'fitButton'>Fit curve</button>
            </div>



            <div class = "inputContainer">
                <label for="numUsersSlider" style="color: white;">users:</label>
                <input type="range" id="numUsersSlider" min="2" max="900" value="10" step="2" oninput="updateNumUsers(this.value)" >
                <span id="numUsersValue" style="color: white; margin-left: 2px;">10</span>                                
            </div>            

            <div class = "inputContainer">
                <label for="fpsSlider" style="color: white;">fps: </label>
                <input type="range" id="fpsSlider" min="1" max="60" value="1" step="1" oninput="updateFps(this.value)" style = 'width: 50%;'>
                <span id="fpsValue" style="color: white; margin-left: 2px;">10</span>                                
            </div>
            
        </div> 
        
        <div class = 'svgContainer' id = 'svgContainer'>
            <svg class="svgElement" id="svgSimulation"></svg>
            <svg class = "svgElement" id = 'svgChar'></svg>
        </div> 

        
        <div class="popup" id="popup">
            <div class="popup-content">
                <span class="close" onclick="closePopup()">&times;</span>
                <h3>TUTORIAL</h3>
                <h3>This is a money exchange simulation. Each circle represents a user who will be paired with another user to randomly exchange one unit of money. On the right, the distribution of money in each iteration is displayed, along with some useful statistical information. </h3>
                <img id = 'tutorialImage' src="assets/tutorial.png" alt="Imagen">
                <h3>You can choose the number of user, frames per second and use fit curve button to create a fitting data curve.<h3>
            </div>
        </div>

    </div>
    <script src = 'utils/popup.js'></script>
    <script src = 'utils/connectAll.js'></script>
    <script src = 'utils/calculateEntropy.js'></script>
    <script src = 'utils/linearRegression.js'></script>

    <script src = 'svgSetup.js'></script>
    <script src = 'inputSetup.js'></script>
    <script src = 'drawFrame.js'></script>
    <script src = 'buttonsFunctions.js'></script>
    <script src = 'start.js'></script>
</body>
</html>
